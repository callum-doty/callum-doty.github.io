<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Data Portfolio Background</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
            color: white;
            background: #0a0a1a;
        }
        
        #background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .content {
            position: relative;
            z-index: 2;
            padding: 2rem;
            background: rgba(10, 10, 30, 0.8);
            border-radius: 10px;
            max-width: 800px;
            margin: 2rem auto;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(100, 100, 255, 0.3);
            box-shadow: 0 0 20px rgba(50, 50, 150, 0.5);
        }
        
        h1 {
            margin-bottom: 1rem;
            color: #4cc9f0;
            text-shadow: 0 0 10px rgba(76, 201, 240, 0.7);
        }
        
        p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .financial-info {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(100, 100, 255, 0.3);
        }
        
        .stock-ticker {
            background: rgba(20, 20, 40, 0.7);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            margin-top: 0.5rem;
            font-family: 'Courier New', monospace;
        }
        
        .up {
            color: #4ade80;
        }
        
        .down {
            color: #f87171;
        }
        
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5rem;
            z-index: 10;
            background: rgba(10, 10, 30, 0.8);
            padding: 1rem 2rem;
            border-radius: 8px;
            border: 1px solid rgba(100, 100, 255, 0.3);
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        button {
            background: rgba(76, 201, 240, 0.3);
            border: 1px solid #4cc9f0;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: rgba(76, 201, 240, 0.5);
        }
        
        .market-status {
            margin-top: 1rem;
            padding: 0.5rem;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
        }
        
        .open {
            background: rgba(76, 216, 100, 0.2);
            border: 1px solid #4cd864;
        }
        
        .closed {
            background: rgba(247, 113, 113, 0.2);
            border: 1px solid #f87171;
        }
    </style>
</head>
<body>
    <canvas id="background-canvas"></canvas>
    
    <div class="loading" id="loading">Loading financial data...</div>
    
    <div class="content">
        <h1>Financial Analyst Portfolio</h1>
        <p>Welcome to my portfolio. The background visualizes real-time market data with animated particles representing stock movements and market trends.</p>
        
        <div class="financial-info">
            <div>
                <h3>Market Index</h3>
                <div class="stock-ticker" id="index-value">NASDAQ: 15,234.21 <span class="up">+1.2%</span></div>
            </div>
            <div>
                <h3>Active Stock</h3>
                <div class="stock-ticker" id="stock-value">AAPL: $175.43 <span class="up">+0.8%</span></div>
            </div>
        </div>
        
        <div class="market-status open" id="market-status">
            Market is currently OPEN
        </div>
        
        <div class="controls">
            <button id="pause-btn">Pause Animation</button>
            <button id="change-stock">Change Stock</button>
            <button id="theme-toggle">Toggle Theme</button>
        </div>
    </div>

    <script>
        // Canvas setup
        const canvas = document.getElementById('background-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // Configuration
        const config = {
            particleCount: 150,
            animationSpeed: 1,
            marketHours: true, // Assume market is open
            theme: 'dark'
        };
        
        // Financial data structure
        let financialData = {
            indices: [
                { name: 'NASDAQ', value: 15234.21, change: 1.2 },
                { name: 'S&P 500', value: 4920.43, change: 0.8 },
                { name: 'DOW JONES', value: 38239.98, change: -0.3 }
            ],
            stocks: [
                { symbol: 'AAPL', price: 175.43, change: 0.8 },
                { symbol: 'MSFT', price: 415.50, change: 1.5 },
                { symbol: 'GOOGL', price: 152.34, change: -0.4 },
                { symbol: 'TSLA', price: 245.67, change: -2.1 },
                { symbol: 'AMZN', price: 178.23, change: 0.7 }
            ],
            selectedStock: 0
        };
        
        // Particles array
        let particles = [];
        let animationId = null;
        let isAnimating = true;
        
        // Resize handler
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        });
        
        // Control handlers
        document.getElementById('pause-btn').addEventListener('click', function() {
            isAnimating = !isAnimating;
            this.textContent = isAnimating ? 'Pause Animation' : 'Resume Animation';
            if (isAnimating) {
                animate();
            }
        });
        
        document.getElementById('change-stock').addEventListener('click', function() {
            financialData.selectedStock = (financialData.selectedStock + 1) % financialData.stocks.length;
            updateFinancialDisplay();
            initParticles();
        });
        
        document.getElementById('theme-toggle').addEventListener('click', function() {
            config.theme = config.theme === 'dark' ? 'light' : 'dark';
            document.body.style.background = config.theme === 'dark' ? '#0a0a1a' : '#e6e6fa';
            updateFinancialDisplay();
        });
        
        // Particle class
        class Particle {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 4 + 1;
                
                // Base movement based on market trend
                const marketTrend = financialData.indices[0].change;
                this.speedX = (Math.random() - 0.5) * config.animationSpeed * (1 + Math.abs(marketTrend) / 10);
                this.speedY = (Math.random() - 0.5) * config.animationSpeed * (1 + Math.abs(marketTrend) / 10);
                
                // Set color based on stock performance
                const stock = financialData.stocks[financialData.selectedStock];
                if (stock.change > 0) {
                    this.color = config.theme === 'dark' ? 'rgba(76, 216, 100, 0.7)' : 'rgba(46, 160, 67, 0.7)'; // Green for up
                } else if (stock.change < 0) {
                    this.color = config.theme === 'dark' ? 'rgba(248, 113, 113, 0.7)' : 'rgba(207, 75, 75, 0.7)'; // Red for down
                } else {
                    this.color = config.theme === 'dark' ? 'rgba(100, 100, 255, 0.7)' : 'rgba(70, 70, 200, 0.7)'; // Blue for neutral
                }
                
                // Add some variation
                this.color = this.color.replace('0.7', (0.5 + Math.random() * 0.3).toFixed(1));
                
                // Pulse effect for important movements
                this.pulse = 0;
                this.pulseDirection = Math.random() > 0.5 ? 1 : -1;
            }
            
            update() {
                // Adjust movement based on market data
                const marketTrend = financialData.indices[0].change;
                const stock = financialData.stocks[financialData.selectedStock];
                
                // General market influence
                this.speedX += (Math.random() - 0.5) * marketTrend / 100;
                this.speedY += (Math.random() - 0.5) * marketTrend / 100;
                
                // Stock-specific influence
                this.speedX += (Math.random() - 0.5) * stock.change / 50;
                this.speedY += (Math.random() - 0.5) * stock.change / 50;
                
                // Apply speed limits
                const maxSpeed = config.animationSpeed * (1 + Math.abs(marketTrend) / 5);
                this.speedX = Math.max(Math.min(this.speedX, maxSpeed), -maxSpeed);
                this.speedY = Math.max(Math.min(this.speedY, maxSpeed), -maxSpeed);
                
                this.x += this.speedX;
                this.y += this.speedY;
                
                // Pulse effect for significant movements
                if (Math.abs(stock.change) > 1.5) {
                    this.pulse += 0.05 * this.pulseDirection;
                    if (this.pulse > 1 || this.pulse < 0) this.pulseDirection *= -1;
                    this.size = (Math.random() * 4 + 1) * (1 + this.pulse * 0.3);
                }
                
                // Reset particles that go off-screen
                if (this.x < -20 || this.x > canvas.width + 20 || this.y < -20 || this.y > canvas.height + 20) {
                    this.reset();
                    // Start from the edge if it went off-screen
                    if (this.x < 0) this.x = 0;
                    if (this.x > canvas.width) this.x = canvas.width;
                    if (this.y < 0) this.y = 0;
                    if (this.y > canvas.height) this.y = canvas.height;
                }
            }
            
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                
                // Draw different shapes based on market volatility
                const volatility = Math.abs(financialData.stocks[financialData.selectedStock].change);
                
                if (volatility > 2) {
                    // Draw diamonds for high volatility
                    ctx.moveTo(this.x, this.y - this.size);
                    ctx.lineTo(this.x + this.size, this.y);
                    ctx.lineTo(this.x, this.y + this.size);
                    ctx.lineTo(this.x - this.size, this.y);
                    ctx.closePath();
                } else if (volatility > 1) {
                    // Draw squares for medium volatility
                    ctx.rect(this.x - this.size, this.y - this.size, this.size * 2, this.size * 2);
                } else {
                    // Draw circles for low volatility
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                }
                
                ctx.fill();
                
                // Add glow effect for significant movements
                if (Math.abs(financialData.stocks[financialData.selectedStock].change) > 1.5) {
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = this.color;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            }
        }
        
        // Initialize particles
        function initParticles() {
            particles = [];
            for (let i = 0; i < config.particleCount; i++) {
                particles.push(new Particle());
            }
        }
        
        // Draw background based on theme and market status
        function drawBackground() {
            let gradient;
            
            if (config.theme === 'dark') {
                // Dark theme gradient
                if (financialData.indices[0].change >= 0) {
                    // Positive market - blue/green gradient
                    gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                    gradient.addColorStop(0, '#0a2033');
                    gradient.addColorStop(1, '#0a1a1f');
                } else {
                    // Negative market - blue/red gradient
                    gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                    gradient.addColorStop(0, '#200a1a');
                    gradient.addColorStop(1, '#1a0a14');
                }
            } else {
                // Light theme gradient
                if (financialData.indices[0].change >= 0) {
                    // Positive market - light blue/green gradient
                    gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                    gradient.addColorStop(0, '#e0f2f7');
                    gradient.addColorStop(1, '#d0e8df');
                } else {
                    // Negative market - light blue/red gradient
                    gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                    gradient.addColorStop(0, '#f7e0e0');
                    gradient.addColorStop(1, '#f0d0d0');
                }
            }
            
            // Fill with gradient
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw grid lines representing financial charts
            ctx.strokeStyle = config.theme === 'dark' ? 'rgba(100, 100, 150, 0.2)' : 'rgba(100, 100, 150, 0.3)';
            ctx.lineWidth = 1;
            
            // Horizontal grid lines
            for (let y = 0; y < canvas.height; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            // Vertical grid lines
            for (let x = 0; x < canvas.width; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
        }
        
        // Animation loop
        function animate() {
            if (!isAnimating) return;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            drawBackground();
            
            // Update and draw particles
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
            
            // Draw connection lines between nearby particles
            drawConnections();
            
            animationId = requestAnimationFrame(animate);
        }
        
        // Draw connections between particles
        function drawConnections() {
            const connectionDistance = 100;
            const stock = financialData.stocks[financialData.selectedStock];
            
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < connectionDistance) {
                        // Line opacity based on distance and market activity
                        const opacity = (1 - distance/connectionDistance) * 0.2;
                        
                        if (stock.change > 0) {
                            ctx.strokeStyle = config.theme === 'dark' 
                                ? `rgba(76, 216, 100, ${opacity})` 
                                : `rgba(46, 160, 67, ${opacity})`;
                        } else if (stock.change < 0) {
                            ctx.strokeStyle = config.theme === 'dark' 
                                ? `rgba(248, 113, 113, ${opacity})` 
                                : `rgba(207, 75, 75, ${opacity})`;
                        } else {
                            ctx.strokeStyle = config.theme === 'dark' 
                                ? `rgba(100, 100, 255, ${opacity})` 
                                : `rgba(70, 70, 200, ${opacity})`;
                        }
                        
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                    }
                }
            }
        }
        
        // Update financial data display
        function updateFinancialDisplay() {
            const index = financialData.indices[0];
            const stock = financialData.stocks[financialData.selectedStock];
            
            document.getElementById('index-value').innerHTML = 
                `${index.name}: ${index.value.toFixed(2)} <span class="${index.change >= 0 ? 'up' : 'down'}">${index.change >= 0 ? '+' : ''}${index.change.toFixed(2)}%</span>`;
            
            document.getElementById('stock-value').innerHTML = 
                `${stock.symbol}: $${stock.price.toFixed(2)} <span class="${stock.change >= 0 ? 'up' : 'down'}">${stock.change >= 0 ? '+' : ''}${stock.change.toFixed(2)}%</span>`;
            
            // Update market status
            const statusEl = document.getElementById('market-status');
            statusEl.textContent = `Market is currently ${config.marketHours ? 'OPEN' : 'CLOSED'}`;
            statusEl.className = `market-status ${config.marketHours ? 'open' : 'closed'}`;
        }
        
        // Simulate financial data updates
        function updateFinancialData() {
            // Simulate market movements
            financialData.indices.forEach(index => {
                const change = (Math.random() - 0.48) * 0.5; // Small random change
                index.value *= (1 + change / 100);
                index.change += change;
                index.change = parseFloat(index.change.toFixed(2));
            });
            
            // Simulate stock movements (more volatility)
            financialData.stocks.forEach(stock => {
                const change = (Math.random() - 0.48) * 2; // Larger random change
                stock.price *= (1 + change / 100);
                stock.price = parseFloat(stock.price.toFixed(2));
                stock.change += change;
                stock.change = parseFloat(stock.change.toFixed(2));
                
                // Keep price realistic
                if (stock.symbol === 'AAPL' && (stock.price < 150 || stock.price > 200)) {
                    stock.price = 170 + Math.random() * 20;
                }
                if (stock.symbol === 'MSFT' && (stock.price < 350 || stock.price > 450)) {
                    stock.price = 400 + Math.random() * 30;
                }
                if (stock.symbol === 'GOOGL' && (stock.price < 130 || stock.price > 170)) {
                    stock.price = 150 + Math.random() * 15;
                }
                if (stock.symbol === 'TSLA' && (stock.price < 200 || stock.price > 300)) {
                    stock.price = 240 + Math.random() * 30;
                }
                if (stock.symbol === 'AMZN' && (stock.price < 150 || stock.price > 200)) {
                    stock.price = 170 + Math.random() * 20;
                }
            });
            
            // Occasionally change market status (for demonstration)
            if (Math.random() < 0.01) {
                config.marketHours = !config.marketHours;
            }
            
            updateFinancialDisplay();
        }
        
        // Initialize and start animation
        function init() {
            initParticles();
            updateFinancialDisplay();
            document.getElementById('loading').style.display = 'none';
            animate();
            
            // Update financial data every 3 seconds
            setInterval(updateFinancialData, 3000);
        }
        
        // Start after a brief delay to show loading state
        setTimeout(init, 1500);
    </script>
</body>
</html>